<template>
  <div>
    <slot :data="{ date: dateCreated, formatted: date }">
      {{ date }}
    </slot>
  </div>
</template>

<script setup>
import { inject } from "#imports";

// Loading component client side only. server side locale is different causing hydration node mismatch.
const { date_created: dateCreated } = inject("db-article-data");
const formatDate = (date) => {
  // Passing undefined for local timezone and default locale
  return new Date(date).toLocaleDateString(undefined, {
    day: "2-digit",
    month: "long",
    year: "numeric",
  });
};

const date = formatDate(dateCreated);
</script>
